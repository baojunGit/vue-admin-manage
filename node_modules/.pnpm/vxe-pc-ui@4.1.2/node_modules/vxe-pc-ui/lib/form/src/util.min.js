"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assembleItem=assembleItem,exports.createItem=createItem,exports.destroyItem=destroyItem,exports.handleFieldOrItem=handleFieldOrItem,exports.isActiveItem=isActiveItem,exports.isFormItem=isFormItem,exports.isHiddenItem=isHiddenItem,exports.watchItem=watchItem;var _vue=require("vue"),_ui=require("../../ui"),_xeUtils=_interopRequireDefault(require("xe-utils")),_itemInfo=require("./itemInfo"),_utils=require("../../ui/src/utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isFormItem(e){return e instanceof _itemInfo.ItemInfo}function createItem(e,t){return isFormItem(t)?t:new _itemInfo.ItemInfo(e,t)}function handleFieldOrItem(e,t){return t?_xeUtils.default.isString(t)?e.getItemByField(t):t:null}function isHiddenItem(e,t){var e=e["reactData"],e=e["collapseAll"],{folding:t,visible:i}=t;return!1===i||t&&e}function isActiveItem(e,t){let{visibleMethod:i,itemRender:r,visible:s,field:n}=t;var l;return!1===s?s:(l=(l=(0,_utils.isEnableConf)(r)?_ui.renderer.get(r.name):null)?l.formItemVisibleMethod||l.itemVisibleMethod:null,!(i=!i&&l?l:i)||(l=e.props["data"],i({data:l,field:n,property:n,item:t,$form:e,$grid:e.xegrid})))}function watchItem(e,i){Object.keys(e).forEach(t=>{(0,_vue.watch)(()=>e[t],e=>{i.update(t,e)})})}function assembleItem(e,t,i,r){var e=e["reactData"],s=e["staticItems"],n=t.parentNode,r=r?r.formItem:null,r=r?r.children:s;n&&(r.splice(_xeUtils.default.arrayIndexOf(n.children,t),0,i),e.staticItems=s.slice(0))}function destroyItem(e,t){var e=e["reactData"],i=e["staticItems"],r=_xeUtils.default.findIndexOf(i,e=>e.id===t.id);-1<r&&i.splice(r,1),e.staticItems=i.slice(0)}