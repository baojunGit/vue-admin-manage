"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _vue=require("vue"),_core=require("@vxe-ui/core"),_vn=require("../../ui/src/vn"),_layoutViewItem=require("./layout-view-item"),_form=_interopRequireDefault(require("../../form/src/form")),_xeUtils=_interopRequireDefault(require("xe-utils"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _default=exports.default=(0,_vue.defineComponent)({name:"FormDesignLayoutPreview",props:{},emits:[],setup(){const u=(0,_vue.inject)("$xeFormDesign",null);if(!u)return()=>[];const i=u["reactData"],e=e=>{const{widgetObjList:r,dragWidget:t}=i;t&&(e.preventDefault(),_xeUtils.default.findTree(r,e=>e&&e.id===t.id,{children:"children"})||(i.sortWidget=t,r.push(t),u.dispatchEvent("drag-widget",{widget:t},e)))};return()=>{const r=i["widgetObjList"];return(0,_vue.h)("div",{class:"vxe-form-design--preview",onDragover:e},[(0,_vue.h)("div",{class:"vxe-form-design--preview-wrapper"},[(0,_vue.h)(_form.default,{customLayout:!0,span:24,vertical:!0},{default(){return(0,_vue.h)(_vue.TransitionGroup,{class:"vxe-form-design--preview-list",tag:"div",name:"vxe-form-design--preview-list"},{default:()=>r.map((i,e)=>(0,_vue.h)(_layoutViewItem.ViewItemComponent,{key:i.id,item:i,itemIndex:e,items:r},{default(){var e=i["name"],e=_core.renderer.get(e)||{},e=e.renderFormDesignWidgetEdit||e.renderFormDesignWidgetView,r=i,t={widget:i,readonly:!1,disabled:!1,isEditMode:!0,isViewMode:!1,$formDesign:u,$formView:null};return e?(0,_vn.getSlotVNs)(e(r,t)):[]}}))})}})])])}}});