{"version":3,"file":"mention2.js","sources":["../../../../../../packages/components/mention/src/mention.vue"],"sourcesContent":["<template>\n  <div ref=\"wrapperRef\" :class=\"ns.b()\">\n    <el-input\n      v-bind=\"mergeProps(passInputProps, $attrs)\"\n      ref=\"elInputRef\"\n      :model-value=\"modelValue\"\n      @input=\"handleInputChange\"\n      @keydown=\"handleInputKeyDown\"\n      @mousedown=\"handleInputMouseDown\"\n    >\n      <template v-for=\"(_, name) in $slots\" #[name]=\"slotProps\">\n        <slot :name=\"name\" v-bind=\"slotProps\" />\n      </template>\n    </el-input>\n    <el-tooltip\n      ref=\"tooltipRef\"\n      :visible=\"visible && (!!filteredOptions.length || loading)\"\n      :popper-class=\"[ns.e('popper'), popperClass]\"\n      :popper-options=\"popperOptions\"\n      :placement=\"computedPlacement\"\n      :fallback-placements=\"computedFallbackPlacements\"\n      effect=\"light\"\n      pure\n      :offset=\"offset\"\n      :show-arrow=\"showArrow\"\n    >\n      <template #default>\n        <div :style=\"cursorStyle\" />\n      </template>\n      <template #content>\n        <el-mention-dropdown\n          ref=\"dropdownRef\"\n          :options=\"filteredOptions\"\n          :disabled=\"disabled\"\n          :loading=\"loading\"\n          @select=\"handleSelect\"\n          @click.stop=\"elInputRef?.focus\"\n        >\n          <template v-for=\"(_, name) in $slots\" #[name]=\"slotProps\">\n            <slot :name=\"name\" v-bind=\"slotProps\" />\n          </template>\n        </el-mention-dropdown>\n      </template>\n    </el-tooltip>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, mergeProps, nextTick, ref } from 'vue'\nimport { pick } from 'lodash-unified'\nimport { useFocusController, useNamespace } from '@element-plus/hooks'\nimport ElInput, { inputProps } from '@element-plus/components/input'\nimport ElTooltip from '@element-plus/components/tooltip'\nimport { UPDATE_MODEL_EVENT } from '@element-plus/constants'\nimport { isFunction } from '@element-plus/utils'\nimport { mentionEmits, mentionProps } from './mention'\nimport { getCursorPosition, getMentionCtx } from './helper'\nimport ElMentionDropdown from './mention-dropdown.vue'\n\nimport type { Placement } from '@popperjs/core'\nimport type { CSSProperties } from 'vue'\nimport type { InputInstance } from '@element-plus/components/input'\nimport type { TooltipInstance } from '@element-plus/components/tooltip'\nimport type { MentionCtx, MentionOption } from './types'\n\ndefineOptions({\n  name: 'ElMention',\n})\n\nconst props = defineProps(mentionProps)\nconst emit = defineEmits(mentionEmits)\n\nconst passInputProps = computed(() => pick(props, Object.keys(inputProps)))\n\nconst ns = useNamespace('mention')\n\nconst elInputRef = ref<InputInstance>()\nconst tooltipRef = ref<TooltipInstance>()\nconst dropdownRef = ref<InstanceType<typeof ElMentionDropdown>>()\n\nconst visible = ref(false)\nconst cursorStyle = ref<CSSProperties>()\nconst mentionCtx = ref<MentionCtx>()\n\nconst computedPlacement = computed<Placement>(() =>\n  props.showArrow ? props.placement : `${props.placement}-start`\n)\n\nconst computedFallbackPlacements = computed<Placement[]>(() =>\n  props.showArrow ? ['bottom', 'top'] : ['bottom-start', 'top-start']\n)\n\nconst filteredOptions = computed(() => {\n  const { filterOption, options } = props\n  if (!mentionCtx.value || !filterOption) return options\n  return options.filter((option) =>\n    filterOption(mentionCtx.value!.pattern, option)\n  )\n})\n\nconst handleInputChange = (value: string) => {\n  emit('update:modelValue', value)\n  syncAfterCursorMove()\n}\n\nconst handleInputKeyDown = (e: KeyboardEvent | Event) => {\n  if (!('key' in e)) return\n  if (elInputRef.value?.isComposing) return\n  if (['ArrowLeft', 'ArrowRight'].includes(e.key)) {\n    syncAfterCursorMove()\n  } else if (['ArrowUp', 'ArrowDown'].includes(e.key)) {\n    if (!visible.value) return\n    e.preventDefault()\n    const direction = e.key === 'ArrowUp' ? 'prev' : 'next'\n    dropdownRef.value?.navigateOptions(direction)\n  } else if (['Enter'].includes(e.key)) {\n    if (!visible.value) return\n    e.preventDefault()\n    if (dropdownRef.value?.hoverOption) {\n      dropdownRef.value?.selectHoverOption()\n    } else {\n      visible.value = false\n    }\n  } else if (['Backspace'].includes(e.key)) {\n    if (props.whole && mentionCtx.value) {\n      const { splitIndex, selectionEnd, pattern, prefixIndex, prefix } =\n        mentionCtx.value\n      const inputEl = getInputEl()\n      if (!inputEl) return\n      const inputValue = inputEl.value\n      const matchOption = props.options.find((item) => item.value === pattern)\n      const isWhole = isFunction(props.checkIsWhole)\n        ? props.checkIsWhole(pattern, prefix)\n        : matchOption\n      if (isWhole && splitIndex !== -1 && splitIndex + 1 === selectionEnd) {\n        e.preventDefault()\n        const newValue =\n          inputValue.slice(0, prefixIndex) + inputValue.slice(splitIndex + 1)\n        emit(UPDATE_MODEL_EVENT, newValue)\n\n        const newSelectionEnd = prefixIndex\n        nextTick(() => {\n          // input value is updated\n          inputEl.selectionStart = newSelectionEnd\n          inputEl.selectionEnd = newSelectionEnd\n          syncDropdownVisible()\n        })\n      }\n    }\n  }\n}\n\nconst { wrapperRef } = useFocusController(elInputRef, {\n  afterFocus() {\n    syncAfterCursorMove()\n  },\n  beforeBlur(event) {\n    return tooltipRef.value?.isFocusInsideContent(event)\n  },\n  afterBlur() {\n    visible.value = false\n  },\n})\n\nconst handleInputMouseDown = () => {\n  syncAfterCursorMove()\n}\n\nconst handleSelect = (item: MentionOption) => {\n  if (!mentionCtx.value) return\n  const inputEl = getInputEl()\n  if (!inputEl) return\n  const inputValue = inputEl.value\n  const { split } = props\n\n  const newEndPart = inputValue.slice(mentionCtx.value.end)\n  const alreadySeparated = newEndPart.startsWith(split)\n  const newMiddlePart = `${item.value}${alreadySeparated ? '' : split}`\n\n  const newValue =\n    inputValue.slice(0, mentionCtx.value.start) + newMiddlePart + newEndPart\n\n  emit(UPDATE_MODEL_EVENT, newValue)\n  emit('select', item, mentionCtx.value.prefix)\n\n  const newSelectionEnd =\n    mentionCtx.value.start + newMiddlePart.length + (alreadySeparated ? 1 : 0)\n\n  nextTick(() => {\n    // input value is updated\n    inputEl.selectionStart = newSelectionEnd\n    inputEl.selectionEnd = newSelectionEnd\n    inputEl.focus()\n    syncDropdownVisible()\n  })\n}\n\nconst getInputEl = () =>\n  props.type === 'textarea'\n    ? elInputRef.value?.textarea\n    : elInputRef.value?.input\n\nconst syncAfterCursorMove = () => {\n  // can't use nextTick(), get cursor position will be wrong\n  setTimeout(() => {\n    syncCursor()\n    syncDropdownVisible()\n    nextTick(() => tooltipRef.value?.updatePopper())\n  }, 0)\n}\n\nconst syncCursor = () => {\n  const inputEl = getInputEl()\n  if (!inputEl) return\n\n  const caretPosition = getCursorPosition(inputEl)\n  const inputRect = inputEl.getBoundingClientRect()\n  const elInputRect = elInputRef.value!.$el.getBoundingClientRect()\n\n  cursorStyle.value = {\n    position: 'absolute',\n    width: 0,\n    height: `${caretPosition.height}px`,\n    left: `${caretPosition.left + inputRect.left - elInputRect.left}px`,\n    top: `${caretPosition.top + inputRect.top - elInputRect.top}px`,\n  }\n}\n\nconst syncDropdownVisible = () => {\n  const inputEl = getInputEl()\n  if (document.activeElement !== inputEl) {\n    visible.value = false\n    return\n  }\n  const { prefix, split } = props\n  mentionCtx.value = getMentionCtx(inputEl, prefix, split)\n  if (mentionCtx.value && mentionCtx.value.splitIndex === -1) {\n    visible.value = true\n    emit('search', mentionCtx.value.pattern, mentionCtx.value.prefix)\n    return\n  }\n  visible.value = false\n}\n\ndefineExpose({\n  input: elInputRef,\n  tooltip: tooltipRef,\n})\n</script>\n"],"names":["computed","pick","inputProps","useNamespace","ref","isFunction","UPDATE_MODEL_EVENT","nextTick","useFocusController","getCursorPosition","getMentionCtx"],"mappings":"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"}